<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatable" content="IE=edge">
  <meta name="viewport" content="width=device=witdh, initial-scale=1.0">
  <title>음식 메뉴 추천 페이지</title>
  
  <!--bootstrapcss-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <link href = "" rel="stylesheet">
</head>

<body>
	<header style="position: relative;">  <!--네이게이션바-->
		<img src="/image/main_img/logo2.PNG" class = "logo" style="position: absolute; z-index: 3; width: 170px; height: 90px; left: 2.5%; top: 10%;" id = "logo2">
		<div class="px-3 py-2 bg-dark text-white" style="height: 115px;">
		  <div class="container">
			<div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
			  <img src = "/image/main_img/menu_recommend_icon.PNG" width = "60px" height="50px" >
			  <a href="muckstar_main.html" class="navbar-brand"><h4 class = "thema">&nbsp;&nbsp;메뉴추천</h4></a>
			  <ul class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-small">
				<li>
				  <img src = "/image/main_img/home_icon.PNG" width = "45px" height="40px" style="margin-left: 151px; margin-top: 10px;">
				  <a href="main.html" class="nav-link text-white">
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;메인
				  </a>
				</li>
				<li>
				  <img src = "/image/main_img/write_icon.PNG" width = "50px" height="40px" style="margin-left: 100px; margin-top: 10px;">
				  <a href="free_main.html" class="nav-link text-white">
				   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;자유게시판
				  </a>
				</li>
				<li>
				  <img src = "/image/main_img/write_icon.PNG" width = "50px" height="40px" style="margin-left: 105px; margin-top: 10px;">
				  <a href="store_recommend.html" class="nav-link text-white">
				   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;식당추천게시판
				  </a>
				</li>
				<li>
				  <img src = "/image/main_img/muckstar_icon.PNG" width = "40px" height="40px" style="margin-left: 87px; margin-top: 10px;">
				  <a href="muckstar_main.html" class="nav-link text-white">
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;먹스타그램
				  </a>
				</li>
				<li>
				  <img src = "/image/main_img/chat_icon.PNG" width = "50px" height="40px" style="margin-left: 65px; margin-top: 10px;">
				  <a href="chat.html" class="nav-link text-white">
				   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;채팅방&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				  </a>
				</li>
				<li>
				<h5 id = "userName" style="font-size : 13px; margin-top: 20px;"></h5>
				<br/>
				<button type="submit" class="btn btn-primary" id="logout" style="width: 90px; height: 35px; position :absolute; top: 56%;">로그아웃</button> 
				<a href = "main_login.html" > <button type="submit" class="btn btn-primary" style = "width: 80px; height: 35px; display: none; position :absolute; top: 56%;" id = "login">로그인</button></a>
				</li>
			  </ul>
			</div>
		  </div>
		</div>
	  </header>

	  
		<div class = "main" style="width: 1900px;   
                                    height: 88vh;
                                    position: relative;
                                    overflow: hidden;
                                    background: linear-gradient(to right, lightblue, lightyellow);
                                    z-index: 2;"> <!--전체를 감싸는 메인 -->
			<div class = "overlay" style=" width: 100%;
                                            height: 0;
                                            border-top: 400px solid lightblue;
                                            border-bottom: 450px solid lightblue;
                                            border-left: 300px solid lightblue;
                                            border-right: 700px solid transparent;
                                            position: absolute;"></div> <!--삼각 형태로 감싼 것-->
			
			<div id = "recommend_main" style="padding-top: 50px;
												width: 1000px;
												height: 1000px;
												position: absolute;
												top: 60%;
												left: 10%;
												transform: translateY(-50%);
												text-align: center;
												color: darkmagenta;">

				<div id="circle" style="  width: 1000px;
											height: 1000px;
											position: absolute;
											top: 0;
											left: 50%;
											border-radius: 50%;
											transform: rotate(0deg);
											transition: 1s;
											z-index: 0;">  <!--원-->
                               
					<div class = "feature one" style="top: 270px; right: 70px; font-size: 30px; position: absolute; z-index: 0;"> <!--원 안에 카테고리-->
						<img src = "/image/menu_img/write.PNG" style="width: 100px;
                                                                           height: 100px;
                                                                           z-index: 0;">
					<div><a href="free_main.html" style="text-decoration: none;"><h2 class = "lightblue" style="color: lightblue;">자유게시판</h2></a></div>
					</div>
					<div class = "feature two" style=" top: 100px; left: 240px; transform: rotate(-90deg); font-size: 30px; position: absolute; z-index: 0;">
						<img src = "/image/menu_img/write.PNG" style="width: 100px;
                                                                            height: 100px;
                                                                            z-index: 0;">
						<div><a href="store_recommend.html" style="text-decoration: none;"><h2 class = "lightblue" style="color: lightblue;">식당추천게시판</h2></a></div>
					</div>
					<div class = "feature three" style="bottom: 280px; right: 770px; transform: rotate(-180deg); font-size: 30px; position: absolute; z-index: 0;">
						<img src = "/image/menu_img/muckstar_icon1.PNG" style="width: 100px;
                                                                           height: 100px;
                                                                           z-index: 0;">
						<div><a href="muckstar_main.html" style="text-decoration: none;"><h2 class = "lightblue" style="color: lightblue;">먹스타그램</h2></a></div>
					</div>
					<div class = "feature four" style="bottom: 80px; right: 300px; transform: rotate(-270deg); font-size: 30px; position: absolute; z-index: 0;">
						<img src = "/image/menu_img/home_icon.PNG" style="width: 100px;
                                                                           height: 100px;
                                                                           z-index: 0;">
						<div><a href="main.html" style="text-decoration: none;"><h2 class = "lightblue" style="color: lightblue;">메인 홈</h2></a></div>
					</div>
				</div>
						
				<div class = "controls" style=" position: absolute;
												left: 150%;
												top: 38%;
												transform: translateY(-50%);
												text-align: center;"> <!--카테고리 컨트롤-->
					<img src = "/image/menu_img/updown_img.PNG" id = "up_btn" style=" width: 15px; cursor: pointer;"> <!--카테고리 위로 올리는 버튼-->
					<h3 style="margin: 15px 0; color: darkmagenta;">Category</h3>  
					<img src = "/image/menu_img/updown_img.PNG" id = "down_btn" style=" width: 15px;
                                                                                        cursor: pointer;
                                                                                        transform: rotate(180deg);"> <!--카테고리 아래로 내리는 버튼-->
				</div>
			</div>		
				
			<div class = "menu_background" style = "top: 4%;
                                                    position: absolute;
                                                    left: 27%;
                                                    text-align: center;">  <!--음식메뉴추천-->
             <div class="card" style="background-color: lavenderblush; border-color:rgb(11, 44, 6); border-width: 0.5rem; border-radius: 5rem; width: 550px; height : 100%; left: 20%;">
				<h1 id = "top_paading" style="margin-top: 30px; margin-left: 10px;">음식 메뉴 추천</h1>
								
				<br>
								
				<button id = "random_btn" style="font-size: 20px;
                                                    width: 200px;
                                                    height: 50px;
                                                    border-radius: 1.5rem;
                                                    background-color: darkmagenta;
                                                    color: aliceblue; margin-left: 170px;">오늘의 메뉴는?!</button>
                                                                    
				<br>
				<br>
			
				<img id = "menu_img" src = "/image/menu_img/00.PNG" width = 400px height = 300px style="margin-left: 70px;
                                                                                                        font-size: 50px;
                                                                                                        color: rgb(179, 41, 41);">	
			
				<br/>		
				<br/>
			
				<h2 class="color1" style="color: rgb(24, 114, 69);">메뉴</h2> <h3 id ="menu_name"></h3>
								
				<br>
								
				<h2 class = "color2" style="color: rgb(13, 126, 9);">식당</h2> <h3 id ="franchise" style="word-break: keep-all;"></h3>

                <br>

            </div>
			</div>
		</div>


  <script src="/__/firebase/9.8.1/firebase-app-compat.js"></script>
  <script src="/__/firebase/9.8.1/firebase-auth-compat.js"></script>
  <script src="/__/firebase/9.8.1/firebase-firestore-compat.js"></script>
  <script src="/__/firebase/9.8.1/firebase-storage-compat.js"></script>
  
  <!--bootstrapjs-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" 
	integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" 
	crossorigin="anonymous">
  </script>
	
  <!--jquery-->
  <script
	src="https://code.jquery.com/jquery-3.6.0.min.js"
	integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
	crossorigin="anonymous">
  </script>

  <!--firebase-->
  <script>
    const firebaseConfig = {
    apiKey: "AIzaSyCqNsH4WnQVWyOtpmP3I6Js3mFwThDcOQI",
    authDomain: "espsensortestcbj.firebaseapp.com",
    databaseURL: "https://espsensortestcbj-default-rtdb.firebaseio.com",
    projectId: "espsensortestcbj",
    storageBucket: "espsensortestcbj.appspot.com",
    messagingSenderId: "574319666940",
    appId: "1:574319666940:web:fb395ba5d9d47f475d5979",
    measurementId: "G-LXM4LVYD4V"
    };

    const app = firebase.initializeApp(firebaseConfig);
  </script>

<script>
        const login_btn = document.getElementById('login');
		const logout_btn = document.getElementById('logout');

		firebase.auth().onAuthStateChanged((user)=> { // 로그인시/로그아웃시/새로고침시 실행된다. 이 유저 정보를 user에 담는다.
		if(user) { // 로그인된 상태라면
			console.log(user.uid)
			console.log(user.displayName)
			$('#userName').html(user.displayName + '님 접속중')    // 유저 이름을 이용해서 로그인한 상태일시 출력해줌
           
            logout_btn.style.display = 'inline';
         	login_btn.style.display = 'none';
			}
			else {
                logout_btn.style.display = 'none';
          		login_btn.style.display = 'inline';
			}
		})

		$('#logout').click(function(user){  // 로그아웃 버튼을 눌렀을 때
			if(user) {
			firebase.auth().signOut().then(()=>{
				alert('로그아웃 되었습니다')
				location.reload();
			})
			}
		})

		var circle = document.getElementById("circle");     
		var up_btn = document.getElementById("up_btn");
		var down_btn = document.getElementById("down_btn");

		var rotateValue = circle.style.transform;
		var rotateSum;
		
		up_btn.onclick = function()      // 카테고리 회줜을 원으로 배치하여 사용한 기능 클릭시 90도 회전하게 함
		{
			rotateSum = rotateValue + "rotate(-90deg)";
			circle.style.transform = rotateSum;
			rotateValue = rotateSum;
		}
		
		down_btn.onclick = function()
		{
			rotateSum = rotateValue + "rotate(90deg)";
			circle.style.transform = rotateSum;
			rotateValue = rotateSum;
		}
		
	
		const menu = [  // 메뉴, 식당, 이미지를 배열 항목에 선정
		{ name : "한식, 백반", franchise : "홍장금백반전문점", menu_img  : "/image/menu_img/01.PNG" }, 
			{ name : "분식", franchise : "김밥천국, 고봉민김밥, 청년분식", menu_img  : "/image/menu_img/02.PNG"  }, 
			{ name : "중식", franchise : "왕비성, 홍콩반점, 사대천왕", menu_img  : "/image/menu_img/03.PNG" }, 
			{ name : "치킨", franchise : "bhc, bbq, 교촌, 지코바", menu_img  : "/image/menu_img/04.PNG" }, 
			{ name : "햄버거", franchise : "맘스터치, 버거킹, 맥도날드, 롯데리아", menu_img  : "/image/menu_img/05.PNG" }, 
			{ name : "샌드위치", franchise : "서브웨이, 시나피샌드위치", menu_img  : "/image/menu_img/06.PNG" }, 
			{ name : "떡볶이", franchise : "엽기떡볶이, 신떡, 달토끼", menu_img  : "/image/menu_img/07.PNG" }, 
			{ name : "초밥", franchise : "상무초밥, 청춘초밥, 스시하린, 다해초밥", menu_img  : "/image/menu_img/08.PNG" }, 
			{ name : "피자", franchise : "피자헛, 도미노피자, 미스터피자, 파파존스 ", menu_img  : "/image/menu_img/09.PNG" }, 
			{ name : "족발, 보쌈", franchise : "도미보쌈족발, 대박족발, 명품족발&보쌈", menu_img  : "/image/menu_img/10.PNG" }, 
			{ name : "곱창", franchise : "낙곱새, 오복곱창, 곱분이곱창", menu_img  : "/image/menu_img/11.PNG" }, 
			{ name : "돈까스", franchise : "홍카츠, 너무커서놀란돈까스&별리달리", menu_img  : "/image/menu_img/12.PNG" }, 
			{ name : "국밥, 감자탕", franchise : "이순신소국밥, 아구쪽 ", menu_img  : "/image/menu_img/13.PNG" },
			{ name : "닭갈비", franchise : "일미닭갈비, 5.5닭갈비, 장인닭갈비 ", menu_img  : "/image/menu_img/14.PNG" }
		]


		function randomMenu() {  // 랜덤 메뉴 함수 선언
	
			const randomMenu = Math.floor(Math.random() * menu.length); // 선언한 개수 안으로 랜덤 범위를 지정하기 위해 + 소수점 제거를 위해 버림 함수 적용

			const menu_name = document.getElementById("menu_name"); // 화면에 나타나게 할  메뉴, 식당 id를 가져온 변수 선언
			const franchies = document.getElementById("franchies"); 
			const menu_img = document.getElementById("menu_img");

			menu_name.innerText = menu[randomMenu].name;            // 해당 변수 안의 내용을 랜덤하게 출력 적용
			franchise.innerText = menu[randomMenu].franchise;
			menu_img.src = menu[randomMenu].menu_img;				
		}

		const random_btn = document.getElementById("random_btn"); // 버튼을 동작하기 위한 id를 가져온 변수 선언
		random_btn.addEventListener("click", randomMenu);         // 클릭 시 랜덤 메뉴 함수 작동	


</script>

</body>
</html>